function sequenceCounts(a,b){var c=[],d=[];a.forEach(function(a){c.push(a[1]),a[3]&&d.push(a[3])});var e=c.reduce(function(a,b){return b in a?a[b]++:a[b]=1,a},{}),f=d.reduce(function(a,b){return b in a?a[b]++:a[b]=1,a},{});for(var g in e)$("#basesCount").append("<p>"+g+" : "+e[g]+", total mass: "+b[g]*e[g]+"</p>");for(var g in f)$("#linksCount").append("<p>"+g+" : "+f[g]+"</p>");return[e,f]}function sequenceReformat(a){var b=[],c=[];a.forEach(function(a){"d"===a[2].toLowerCase()?b.push(a[1]):c.push(a[1])});var d="["+b.join("")+"]"+c.join("");return $("#sequenceReformatting").append(d),d}function sequenceValidation(a){var b=["-","m","b","d"],c=["A","G","C","T","U","R","Y","S","W","K","M","B","D","H","V","N"],d=["d","r","e","m","y","l","k","o"],e=["o","s"],f=(a.join("").split(""),0);return a.forEach(function(a){b.indexOf(a[0])<0&&f++,c.indexOf(a[1])<0&&f++,d.indexOf(a[2])<0&&f++,e.indexOf(a[3])<0&&f++}),f>0&&$("#sequenceValidation").html("Error in the sequence"),f}$(function(){$("#sequenceForm").on("submit",function(a){a.preventDefault();var b=$("#sequence").val().match(/.{1,4}/g),c={A:5,C:5,G:5,T:5,U:5,W:5,S:5,M:5,K:5,R:5,Y:5,B:5,D:5,H:5,V:5,N:5};sequenceCounts(b,c),sequenceReformat(b),sequenceValidation(b)}),$("#testData").on("click",function(){$("#sequence").val("-Gdo-Gdo-Ado-Ado-Udo-Gro-Gro-Cro-Uro-Uro-Uro-Ur")}),$("#testWrongData").on("click",function(){$("#sequence").val("-Gdo-Gdo-Ado-Ado-Udo-Gro-Wro-Cro-Uro-Uro-Uro=Ur")})});